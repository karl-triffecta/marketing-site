import{A as p,d as c,y as d}from"./hooks.module.BtxRXMXR.js";import{u as f}from"./jsxRuntime.module.DCTds_QK.js";import"./preact.module.xc0zIhQ1.js";typeof window<"u"&&("requestIdleCallback"in window||(window.requestIdleCallback=e=>setTimeout(()=>e(),1),window.cancelIdleCallback=e=>clearTimeout(e)));function k({children:e,className:r="",delay:u=0,duration:n=700}){const s=p(null),[i,w]=c(!0),[m,a]=c(n);return d(()=>{const o=window.matchMedia("(prefers-reduced-motion: no-preference)").matches,t=window.innerWidth<=480;w(o),t&&n>1e3?a(1e3):a(n)},[]),d(()=>{if(!i)return;const o=window.requestIdleCallback(()=>{const t=s.current;if(!t)return;const l=new IntersectionObserver(([b])=>{b.isIntersecting&&(t.classList.add("is-visible"),l.disconnect())},{threshold:.1});l.observe(t)});return()=>window.cancelIdleCallback(o)},[i]),i?f("div",{ref:s,class:`triffecta-fade-in transition-all duration-700 ease-out ${r}`,style:{transitionDelay:`${u}ms`,transitionDuration:`${m}ms`},children:e}):f("div",{className:r,children:e})}export{k as default};
