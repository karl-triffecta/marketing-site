import{A as l,y as p}from"./hooks.module.CsoCk8bO.js";import{u as t}from"./jsxRuntime.module.WrhyN42J.js";import"./preact.module.Dz6_IuHR.js";function y({webmSrc:r,mp4Src:d,poster:i,className:c="",delay:a=1e3}){const n=l(null);return p(()=>{const e=()=>{const s=window.matchMedia("(prefers-reduced-motion: reduce)").matches,u=navigator.connection?.effectiveType||"4g";!s&&["4g","5g"].includes(u)&&setTimeout(()=>{const o=n.current;o&&(o.load(),o.classList.add("opacity-100"))},a)};return document.readyState==="complete"?e():window.addEventListener("load",e),()=>window.removeEventListener("load",e)},[]),t("video",{ref:n,autoplay:!0,loop:!0,muted:!0,playsInline:!0,preload:"none",poster:i,class:`${c}`,children:[t("source",{src:r,type:"video/webm"}),t("source",{src:d,type:"video/mp4"})]})}export{y as default};
