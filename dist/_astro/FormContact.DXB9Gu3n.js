import{d as b,A as c}from"./hooks.module.CsoCk8bO.js";import{z as a}from"./index.ByYdXFAB.js";import{T as w}from"./TriffectaButton.CloZHWMP.js";import{I as C}from"./IconTick.YNANTPGd.js";import{u as e}from"./jsxRuntime.module.WrhyN42J.js";import"./preact.module.Dz6_IuHR.js";const T=a.object({firstName:a.string().min(1,"First name is required"),lastName:a.string().min(1,"Last name is required"),businessEmail:a.string().email("A valid business email is required"),companyName:a.string().min(1,"Company name is required"),jobTitle:a.string().min(1,"Job title is required"),message:a.string().optional(),notificationOptIn:a.boolean()});function S(){const[s,y]=b({firstName:"",lastName:"",businessEmail:"",companyName:"",jobTitle:"",message:"",notificationOptIn:!1}),[t,f]=b({}),[g,x]=b(""),[h,v]=b(!1),r={firstName:c(null),lastName:c(null),businessEmail:c(null),companyName:c(null),jobTitle:c(null),message:c(null)},n=d=>{const i=d.target,{name:o,value:l,type:u}=i;y(p=>({...p,[o]:u==="checkbox"?i.checked:l})),f(p=>({...p,[o]:""}))},N=async d=>{d.preventDefault(),f({}),x("");const i=T.safeParse(s);if(!i.success){const o={};i.error.errors.forEach(u=>{if(u.path.length){const p=u.path[0];o[p]=u.message}}),f(o);const l=i.error.errors[0]?.path[0];r[l]?.current?.focus(),r[l]?.current?.scrollIntoView({behavior:"smooth",block:"center"});return}v(!0);try{const o=await fetch("https://marketing.triffecta.com/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,notificationOptIn:s.notificationOptIn?1:0})}),l=await o.json();if(!o.ok)throw new Error(l.message||"Form submission failed");x("Thanks for getting in touch! We'll respond shortly."),y({firstName:"",lastName:"",businessEmail:"",companyName:"",jobTitle:"",message:"",notificationOptIn:!1})}catch{f({general:"There was a problem. Please try again later."})}finally{v(!1)}},m=d=>`w-full rounded-xl border-1 py-2 pl-4 ${t[d]?"border-error":"border-[#CCCCCC]"} focus:border-primary focus:outline-none`;return e("div",{class:"w-full rounded-2xl bg-white p-10",children:g?e("div",{class:"text-success bg-success-light mb-4 rounded-lg p-4 font-bold",children:g}):e("form",{onSubmit:N,class:"flex flex-col space-y-8",children:[e("h3",{class:"text-center text-3xl font-bold",children:"Send us a message"}),e("fieldset",{class:`flex flex-col space-y-6 ${h?"pointer-events-none opacity-50":""}`,disabled:h,children:[e("div",{class:"flex flex-col gap-4 md:flex-row",children:[e("div",{class:"w-full",children:[e("input",{ref:r.firstName,name:"firstName",placeholder:"First Name",value:s.firstName,onInput:n,class:m("firstName")}),t.firstName&&e("p",{class:"text-error mt-1.5 ml-4.5 text-sm font-bold",children:t.firstName})]}),e("div",{class:"w-full",children:[e("input",{ref:r.lastName,name:"lastName",placeholder:"Last Name",value:s.lastName,onInput:n,class:m("lastName")}),t.lastName&&e("p",{class:"text-error mt-1.5 ml-4.5 text-sm font-bold",children:t.lastName})]})]}),e("div",{children:[e("input",{ref:r.businessEmail,name:"businessEmail",placeholder:"Business Email",value:s.businessEmail,onInput:n,class:m("businessEmail")}),t.businessEmail&&e("p",{class:"text-error mt-1.5 ml-4.5 text-sm font-bold",children:t.businessEmail})]}),e("div",{children:[e("input",{ref:r.companyName,name:"companyName",placeholder:"Company Name",value:s.companyName,onInput:n,class:m("companyName")}),t.companyName&&e("p",{class:"text-error mt-1.5 ml-4.5 text-sm font-bold",children:t.companyName})]}),e("div",{children:[e("input",{ref:r.jobTitle,name:"jobTitle",placeholder:"Job Title",value:s.jobTitle,onInput:n,class:m("jobTitle")}),t.jobTitle&&e("p",{class:"text-error mt-1.5 ml-4.5 text-sm font-bold",children:t.jobTitle})]}),e("div",{children:e("textarea",{ref:r.message,name:"message",placeholder:"Your message (optional)",value:s.message,onInput:n,rows:5,class:"w-full resize-none rounded-xl border border-[#CCCCCC] py-2 pl-4 focus:border-[#009485] focus:outline-none"})}),e("p",{class:"text-sm",children:"Triffecta is committed to protecting and respecting your privacy, and weâ€™ll only use your personal information to administer your account and to provide the products and services you requested from us. From time to time, we would like to contact you about our products and services, as well as other content that may be of interest to you. If you consent to us contacting you for this purpose, please tick below to say how you would like us to contact you:"}),e("label",{class:"flex cursor-pointer items-center space-x-3 text-sm select-none",children:[e("div",{class:"relative",children:[e("input",{type:"checkbox",name:"notificationOptIn",checked:s.notificationOptIn,onChange:n,class:"peer absolute h-5 w-5 cursor-pointer opacity-0"}),e("div",{class:"peer-checked:border-primary peer-checked:bg-primary flex h-5 w-5 items-center justify-center rounded border border-gray-400 transition",children:e(C,{strokeColor:"#FFFFFF"})})]}),e("span",{children:"I agree to receive emails from Triffecta about helpful content and services."})]}),e("p",{class:"text-sm",children:["You can unsubscribe from these communications at any time. For more information on how to unsubscribe, our privacy practices, and how we are committed to protecting and respecting your privacy, please review our"," ",e("a",{href:"/privacy",class:"text-primary-dark underline",target:"_blank",children:"privacy policy"}),"."]}),e("p",{class:"text-sm",children:"By clicking submit below, you consent to allow Triffecta to store and process the personal information submitted above to provide you the content requested."}),e("div",{className:"flex justify-center lg:justify-end",children:e(w,{type:"submit",disabled:h,className:"px-10 py-2",children:h?"Submitting...":"Send"})}),t.general&&e("p",{class:"text-error text-sm font-bold",children:t.general})]})]})})}export{S as default};
