import{A as b,d as l,y as d}from"./hooks.module.BtxRXMXR.js";import{u as f}from"./jsxRuntime.module.DCTds_QK.js";import"./preact.module.xc0zIhQ1.js";function D({children:r,className:o="",delay:u=0,duration:t=700}){const s=b(null),[n,m]=l(!0),[w,a]=l(t);return d(()=>{const i=window.matchMedia("(prefers-reduced-motion: no-preference)").matches,e=window.innerWidth<=480;m(i),e&&t>1e3?a(1e3):a(t)},[]),d(()=>{if(!n)return;const i=window.requestIdleCallback(()=>{const e=s.current;if(!e)return;const c=new IntersectionObserver(([v])=>{v.isIntersecting&&(e.classList.add("is-visible"),c.disconnect())},{threshold:.1});c.observe(e)});return()=>window.cancelIdleCallback(i)},[n]),n?f("div",{ref:s,class:`triffecta-fade-in transition-all duration-700 ease-out ${o}`,style:{transitionDelay:`${u}ms`,transitionDuration:`${w}ms`},children:r}):f("div",{className:o,children:r})}export{D as default};
